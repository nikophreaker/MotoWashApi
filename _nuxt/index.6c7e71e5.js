import{u as f}from"./vue.f36acd1f.e41c4820.js";import{f as h,J as _,v as a,r as u,s as b,o as x,c as v,a as s,b as r,w as g,u as e,d as y,n as k}from"./entry.9bb287b3.js";const E={class:"text-white flex justify-center pt-40"},T=s("div",{class:"header bg-white dark:bg-gray-900 border-b dark:border-gray-700 text-indigo-900 dark:text-gray-200 p-4 rounded-t"},[s("h1",{class:"text-2xl font-bold text-center"},"Welcome")],-1),V={class:"grid grid-cols-12 gap-2"},L={class:"col-span-12"},B={class:"col-span-12"},C={class:"col-span-12"},I=["hidden"],j=h({__name:"index",setup(M){const{signIn:p,token:N,data:P,status:U,lastRefreshedAt:q}=_();f({title:"Login"});const i=a.useToast(),c=u(),d=u(!1),t=b({email:"",password:""}),m=()=>{d.value=!0,setTimeout(()=>{d.value=!1},1250)},w=async()=>{const l=c.value.validator();if(l.clearErrors(),await l.validate(),l.fail()){i.error({message:l.getErrorMessage()}),m();return}p({email:t.email,password:t.password},{callbackUrl:"/"}).then(o=>{i.success({message:"Loggin success, youre being redirected",lifetime:1e3})}).catch(o=>{m(),i.error({message:"Email & Password combination missmatch",lifetime:3e3})})};return(l,o)=>(x(),v("div",E,[s("div",{class:k(["text-gray-800 rounded-t-lg w-96 shadow-lg p-1 bg-gradient-to-b from-indigo-400 h-20",{"tw-shake":e(d)}])},[T,r(e(a.TwForm),{ref_key:"formLogin",ref:c,name:"login",rules:{email:["required","email"],password:["required"]},onSubmit:w,class:"body bg-white dark:bg-gray-900 p-4 rounded-b-lg"},{default:g(()=>[s("div",V,[s("div",L,[r(e(a.TwInput),{class:"dark:text-gray-200",modelValue:e(t).email,"onUpdate:modelValue":o[0]||(o[0]=n=>e(t).email=n),name:"email",label:"Email"},null,8,["modelValue"]),r(e(a.TwErrorMessage),{name:"email"})]),s("div",B,[r(e(a.TwInput),{class:"dark:text-gray-200",modelValue:e(t).password,"onUpdate:modelValue":o[1]||(o[1]=n=>e(t).password=n),name:"password",label:"Password",type:"password"},null,8,["modelValue"]),r(e(a.TwErrorMessage),{name:"password"})]),s("div",C,[r(e(a.TwButton),{class:"w-full text-center"},{default:g(()=>[y(" Login ")]),_:1}),s("p",{class:"text-red-600",hidden:!e(d)}," Email & Password combination missmatch ",8,I)])])]),_:1},512)],2)]))}});export{j as default};
